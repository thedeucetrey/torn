<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Undercurrent Game UI with Login & Profile</title>
<style>
  /* Reset and base styles */
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f0f0f0;
    color: #222;
  }
  #container {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
  }
  #banner {
    flex: 0 0 90px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #000;
  }
  #banner img {
    max-height: 90px;
    width: auto;
  }
  #banner-text {
    color: white;
    font-size: 28px;
    font-weight: bold;
  }
  #banner-username-logout {
    position: absolute;
    top: 10px;
    right: 30px;
    display: flex;
    align-items: center;
    gap: 15px;
    font-size: 18px;
    color: white;
  }
  #logout-btn {
    background-color: #facc15;
    border: none;
    padding: 5px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    color: #162f44;
    transition: background-color 0.3s;
  }
  #logout-btn:hover {
    background-color: #e6b70b;
  }
  #main {
    display: flex;
    flex: 1;
    height: calc(100vh - 90px);
  }
  #toolbar {
    background: #162f44;
    color: #cbd5e1;
    width: 220px;
    padding: 20px 20px 0 20px;
    box-sizing: border-box;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  #toolbar-logo {
    width: 140px;
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px #facc15;
  }
  #toolbar ul {
    list-style: none;
    padding: 0;
    margin: 0;
    width: 100%;
  }
  #toolbar ul li {
    padding: 15px 25px;
    cursor: pointer;
    border-left: 4px solid transparent;
    transition: background-color 0.3s, border-color 0.3s;
    font-weight: 600;
    user-select: none;
  }
  #toolbar ul li:hover {
    background-color: #1f496d;
    border-left-color: #facc15;
    color: #fff;
  }
  #toolbar ul li.active {
    background-color: #facc15;
    color: #162f44;
    border-left-color: #facc15;
  }
  #console {
    background: #fff;
    flex: 1;
    padding: 30px;
    box-sizing: border-box;
    overflow-y: auto;
    box-shadow: inset 0 0 10px #d1d5db;
  }
  #console h2 {
    margin-top: 0;
    font-weight: 700;
    color: #0b1922;
    border-bottom: 2px solid #facc15;
    padding-bottom: 6px;
  }
  #console p {
    font-size: 16px;
    line-height: 1.5;
  }
  form {
    max-width: 300px;
  }
  label {
    display: block;
    margin-top: 15px;
    font-weight: 600;
  }
  input[type="text"], input[type="password"] {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    box-sizing: border-box;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 14px;
  }
  input[type="submit"] {
    margin-top: 20px;
    background-color: #facc15;
    border: none;
    padding: 10px;
    width: 100%;
    border-radius: 4px;
    font-weight: 700;
    font-size: 16px;
    color: #162f44;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  input[type="submit"]:hover {
    background-color: #e6b70b;
  }
  #login-error {
    color: red;
    margin-top: 10px;
  }
  /* Profile Styles */
  .profile-container {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #222;
  }
  .profile-header {
    display: flex;
    align-items: center;
    gap: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #facc15;
  }
  .profile-avatar {
    width: 100px;
    height: 100px;
    border-radius: 12px;
    box-shadow: 0 0 8px #facc15;
  }
  .profile-username {
    font-size: 28px;
    margin: 0;
    color: #0b1922;
  }
  .profile-rank {
    font-size: 14px;
    color: #555;
    font-weight: 600;
  }
  .profile-stats {
    margin-top: 20px;
  }
  .stats-row {
    display: flex;
    gap: 40px;
    font-size: 16px;
    padding: 5px 0;
  }
  .profile-details {
    margin-top: 25px;
  }
  .profile-details ul {
    list-style: none;
    padding-left: 0;
  }
  .profile-details ul li {
    font-size: 16px;
    padding: 6px 0;
  }
</style>
</head>
<body>
  <div id="container">
    <header id="banner" role="banner">
      <img src="undercurrent_banner_728x90.png" alt="Undercurrent Banner" />
      <div id="banner-username-logout" aria-live="polite">
        <div id="username-display"></div>
        <button id="logout-btn" style="display:none;" aria-label="Logout">Logout</button>
      </div>
    </header>
    <div id="main">
      <nav id="toolbar" aria-label="Main Navigation" style="display:none;">
        <img id="toolbar-logo" src="2f1feed3-7496-4292-b14f-0360853a9e0a.png" alt="Undercurrent Logo" />
        <ul id="menu-list">
          <!-- Dynamic menu items -->
        </ul>
      </nav>
      <main id="console" tabindex="0" role="region" aria-live="polite">
        <!-- Login or page content -->
      </main>
    </div>
  </div>

<script>
  // Mock user database for testing
  const users = {
    admin: { 
      password: 'admin123', 
      role: 'admin',
      profile: {
        username: 'Admin',
        avatar: 'https://via.placeholder.com/100?text=Admin',
        rank: 'Administrator',
        level: 99,
        fightingStats: { Strength: 99, Defense: 98, Speed: 97, Dexterity: 96 },
        otherStats: { Energy: '100 / 100', Life: '100 / 100', Nerve: '100 / 100' },
        details: { Location: 'Headquarters', Status: 'Online', Cash: '$1,000,000', Experience: '999,999 XP' }
      }
    },
    player1: { 
      password: 'player123', 
      role: 'player',
      profile: {
        username: 'PlayerOne',
        avatar: 'https://via.placeholder.com/100?text=Player1',
        rank: 'Thug',
        level: 12,
        fightingStats: { Strength: 75, Defense: 68, Speed: 70, Dexterity: 65 },
        otherStats: { Energy: '80 / 100', Life: '95 / 100', Nerve: '60 / 100' },
        details: { Location: 'Downtown', Status: 'Free', Cash: '$45,000', Experience: '12,345 XP' }
      }
    }
  };

  const bannerUsername = document.getElementById('username-display');
  const logoutBtn = document.getElementById('logout-btn');
  const toolbar = document.getElementById('toolbar');
  const consoleDiv = document.getElementById('console');
  const menuList = document.getElementById('menu-list');

  const contentMap = {
    Home: `<h2>Home</h2><p>Welcome to Undercurrent! Use the toolbar to explore the game.</p>`,
    Stats: `<h2>Stats</h2><p>Track your character's attributes here.</p>`,
    Inventory: `<h2>Inventory</h2><p>Your items and resources.</p>`,
    Settings: `<h2>Settings</h2><p>Adjust your preferences and account settings.</p>`,
    Admin: `<h2>Admin Panel</h2><p>Manage game settings and user accounts here.</p>`
  };

  function renderProfile(profile) {
    return `
      <div class="profile-container">
        <div class="profile-header">
          <img src="${profile.avatar}" alt="Player Avatar" class="profile-avatar"/>
          <div>
            <h2 class="profile-username">${profile.username}</h2>
            <div class="profile-rank">Level ${profile.level} | Rank: ${profile.rank}</div>
          </div>
        </div>
        <div class="profile-stats">
          <h3>Fighting Stats</h3>
          <div class="stats-row">
            <div><strong>Strength:</strong> ${profile.fightingStats.Strength}</div>
            <div><strong>Defense:</strong> ${profile.fightingStats.Defense}</div>
            <div><strong>Speed:</strong> ${profile.fightingStats.Speed}</div>
            <div><strong>Dexterity:</strong> ${profile.fightingStats.Dexterity}</div>
          </div>
          <h3>Other Stats</h3>
          <div class="stats-row">
            <div><strong>Energy:</strong> ${profile.otherStats.Energy}</div>
            <div><strong>Life:</strong> ${profile.otherStats.Life}</div>
            <div><strong>Nerve:</strong> ${profile.otherStats.Nerve}</div>
          </div>
        </div>
        <div class="profile-details">
          <h3>Details</h3>
          <ul>
            <li><strong>Location:</strong> ${profile.details.Location}</li>
            <li><strong>Status:</strong> ${profile.details.Status}</li>
            <li><strong>Cash:</strong> ${profile.details.Cash}</li>
            <li><strong>Experience:</strong> ${profile.details.Experience}</li>
          </ul>
        </div>
      </div>`;
  }

  function showLoginForm() {
    toolbar.style.display = 'none';
    logoutBtn.style.display = 'none';
    bannerUsername.textContent = '';
    menuList.innerHTML = '';
    consoleDiv.innerHTML = `
      <h2>Login</h2>
      <form id="login-form" autocomplete="off">
        <label for="username">Username:</label>
        <input id="username" type="text" required autofocus />
        <label for="password">Password:</label>
        <input id="password" type="password" required />
        <input type="submit" value="Login" />
        <div id="login-error"></div>
      </form>
    `;

    document.getElementById('login-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value;
      authenticateUser(username, password);
    });
  }

  function authenticateUser(username, password) {
    const errorDiv = document.getElementById('login-error');
    if(users[username] && users[username].password === password) {
      localStorage.setItem('loggedInUser', username);
      localStorage.setItem('userRole', users[username].role);
      errorDiv.textContent = '';
      loadUserUI(username, users[username].role);
    } else {
      errorDiv.textContent = 'Invalid username or password.';
    }
  }

  function loadUserUI(username, role) {
    bannerUsername.textContent = `Logged in as: ${username}`;
    logoutBtn.style.display = 'inline-block';
    toolbar.style.display = 'flex';

    const baseMenus = ['Home', 'Profile', 'Stats', 'Inventory', 'Settings'];
    menuList.innerHTML = '';
    baseMenus.forEach(item => {
      const li = document.createElement('li');
      li.textContent = item;
      li.tabIndex = 0;
      if(item === 'Home') li.classList.add('active');
      menuList.appendChild(li);
    });

    if(role === 'admin') {
      const adminLi = document.createElement('li');
      adminLi.textContent = 'Admin';
      adminLi.tabIndex = 0;
      menuList.appendChild(adminLi);
    }

    updateConsoleContent('Home', username);
    addMenuListeners(username);
  }

  function updateConsoleContent(name, username = null) {
    if(name === 'Profile' && username) {
      consoleDiv.innerHTML = renderProfile(users[username].profile);
    } else {
      consoleDiv.innerHTML = contentMap[name] || '<p>Content not available.</p>';
    }
    consoleDiv.focus();
  }

  function addMenuListeners(username) {
    const items = document.querySelectorAll('#menu-list li');
    items.forEach(item => {
      item.addEventListener('click', () => {
        setActiveMenu(item);
        updateConsoleContent(item.textContent, username);
      });
      item.addEventListener('keydown', e => {
        if(e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          item.click();
        }
      });
    });
  }

  function setActiveMenu(selectedItem) {
    const items = document.querySelectorAll('#menu-list li');
    items.forEach(item => item.classList.remove('active'));
    selectedItem.classList.add('active');
  }

  logoutBtn.addEventListener('click', () => {
    localStorage.removeItem('loggedInUser');
    localStorage.removeItem('userRole');
    showLoginForm();
  });

  window.onload = function() {
    const username = localStorage.getItem('loggedInUser');
    const role = localStorage.getItem('userRole');
    if(username && role && users[username]) {
      loadUserUI(username, role);
    } else {
      showLoginForm();
    }
  };
</script>
</body>
</html>
